<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Adopt a Pet</title>
  <link rel="stylesheet" href="/CSS/navigation.css" />
  <link rel="stylesheet" href="/CSS/adopt-styles.css" />
  <style>
    
    .form-section {
      display: none;
      margin-top: 50px;
      background: white;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      max-width: 700px;
      margin-left: auto;
      margin-right: auto;
    }

    .form-group {
      display: flex;
      flex-direction: column;
      margin-bottom: 15px;
    }

    .form-group label {
      font-weight: bold;
      margin-bottom: 5px;
    }

    .form-group input,
    .form-group select {
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 6px;
      font-size: 1rem;
    }

    .form-section button {
      width: 30%;
      padding: 12px;
      background-color: #4CAF50;
      color: white;
      border: none;
      border-radius: 6px;
      font-size: 16px;
      cursor: pointer;
      margin-top: 10px;
    }

    .form-section button:hover {
      background-color: #45a049;
    }

    #popup {
      display: none;
      text-align: center;
      margin-top: 10px;
      color: green;
    }
  </style>
</head>

<body>
  <header class="navbar">
    <img src="/IMAGES/logo.png" alt="Logo" class="logo" />
    <nav class="nav-links">
      <a href="/">Home</a>
      <a href="/pet-products">Pet Products</a>
      <a href="/adopt">Adopt a Pet</a>
      <a href="/about-developers">Contact Us</a>
    </nav>
  </header>

  <main>
    <section class="adopt-section">
      <h1>Adopt a Pet</h1>
      <p style="text-align: center;">Find your new best friend today!</p>

      <!-- PET CARDS -->
      <!-- Repeatable pet card -->
      <div class="pet-card">
        <div class="pet-image">
          <img src="/IMAGES/cat1.jpeg" alt="Ginger">
          <h2>Ginger</h2>
        </div>
        <div class="pet-details">
          <p>Ginger is a playful and affectionate cat looking for a loving home.</p>
          <li>Requirements: Must have a cat-friendly environment.</li>
          <button class="button" onclick="showAdoptionForm('Ginger')">Adopt</button>
        </div>
      </div>

      <div class="pet-card">
        <div class="pet-image">
          <img src="/IMAGES/cat2.jpeg" alt="Turbo">
          <h2>Turbo</h2>
        </div>
        <div class="pet-details">
          <p>Turbo is an energetic cat who loves to play and cuddle.</p>
          <li>Requirements: Must have a spacious area for play.</li>
          <button class="button" onclick="showAdoptionForm('Turbo')">Adopt</button>
        </div>
      </div>

      <div class="pet-card">
        <div class="pet-image">
          <img src="/IMAGES/hamster.jpeg" alt="Ham">
          <h2>Ham</h2>
        </div>
        <div class="pet-details">
          <p>Ham is a friendly hamster who loves to explore and play.</p>
          <li>Requirements: Must have a secure cage and plenty of toys.</li>
          <button class="button" onclick="showAdoptionForm('Ham')">Adopt</button>
        </div>
      </div>

      <div class="pet-card">
        <div class="pet-image">
          <img src="/IMAGES/dog.jpeg" alt="Rosey">
          <h2>Rosey</h2>
        </div>
        <div class="pet-details">
          <p>Rosey is a loving dog who enjoys long walks and cuddles.</p>
          <li>Requirements: Must have a fenced yard for playtime.</li>
          <button class="button" onclick="showAdoptionForm('Rosey')">Adopt</button>
        </div>
      </div>
    </section>

    <!-- Adoption Form (Hidden by default) -->
    <section class="form-section" id="adoptionFormSection">
      <h2>Pet Adoption Form</h2>
      <form id="form">
        <div class="form-group">
          <label for="pet_name">Pet Name:</label>
          <input type="text" id="pet_name" name="pet_name" readonly>
        </div>

        <div class="form-group">
          <label for="full_name">Full Name:</label>
          <input type="text" id="full_name" name="full_name" required>
        </div>

        <div class="form-group">
          <label for="email">Email:</label>
          <input type="email" id="email" name="email" required>
        </div>

        <div class="form-group">
          <label for="address">Address:</label>
          <input type="text" id="address" name="address" required>
        </div>

        <div class="form-group">
          <label for="contact_number">Contact Number:</label>
          <input type="tel" id="contact_number" name="contact_number" required>
        </div>

        <div class="form-group">
          <label for="occupation">Occupation:</label>
          <input type="text" id="occupation" name="occupation" required>
        </div>

        <div class="form-group">
          <label for="owned-pet">Have you owned a pet before?</label>
          <select id="owned-pet" name="owned_pet" required>
            <option value="yes">Yes</option>
            <option value="no">No</option>
          </select>
        </div>

        <div class="form-group">
          <label for="hours_away">Hours away from home daily:</label>
          <input type="number" id="hours_away" name="hours_away" min="0" required>
        </div>

        <div class="form-group">
          <label for="family">Family members with you:</label>
          <input type="number" id="family" name="family" min="0" required>
        </div>

        <div class="form-group">
          <label for="roomates">Roommates (excluding family):</label>
          <input type="number" id="roomates" name="roomates" min="0" required>
        </div>

        <div class="form-group">
          <label for="children">Number of children:</label>
          <input type="number" id="children" name="children" min="0" required>
        </div>

        <div class="form-group">
          <label for="agree_to_have_pet">Has everyone agreed?</label>
          <select id="agree_to_have_pet" name="agree_to_have_pet" required>
            <option value="yes">Yes</option>
            <option value="no">No</option>
          </select>
        </div>

        <button type="submit">Submit</button>
        <div id="popup">Form submitted successfully!</div>
      </form>
    </section>

    <!-- Slideshow -->
    <section class="happily-adopted-section" style="margin-top: 100px;">
      <h1>Happily Adopted Pets</h1>
      <div class="slideshow-container">
        <div class="pet-card slide">
          <img src="/IMAGES/adoptedcat1.jpeg" alt="Happy Pet 1">
          <p>Moon - Living his best life with Dareen's family</p>
        </div>
        <div class="pet-card slide">
          <img src="/IMAGES/adoptedcat2.jpeg" alt="Happy Pet 2">
          <p>Molly - Enjoying her new home!</p>
        </div>
        <div class="pet-card slide">
          <img src="/IMAGES/adoptedcat3.jpeg" alt="Happy Pet 3">
          <p>Bella - Thriving in her forever home!</p>
        </div>
      </div>
    </section>
  </main>

  <script>
    function showAdoptionForm(petName) {
      const formSection = document.getElementById("adoptionFormSection");
      const input = document.getElementById("pet_name");
      input.value = petName;
      formSection.style.display = "block";
      formSection.scrollIntoView({ behavior: "smooth" });
    }

    document.getElementById("form").addEventListener("submit", async function (e) {
      e.preventDefault();
      const formData = new FormData(this);
      const body = Object.fromEntries(formData.entries());

      const res = await fetch("/submit-contact-us-form", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(body)
      });

      const popup = document.getElementById("popup");
      popup.style.display = "block";
      popup.style.color = res.ok ? "green" : "red";

      if (res.ok) this.reset();

      setTimeout(() => popup.style.display = "none", 3000);
    });

    // Slideshow
    let slideIndex = 0;
    const slides = document.querySelectorAll(".slide");

    function showSlide(index) {
      slides.forEach((slide, i) => slide.style.display = i === index ? "block" : "none");
    }

    function nextSlide() {
      slideIndex = (slideIndex + 1) % slides.length;
      showSlide(slideIndex);
    }

    showSlide(slideIndex);
    setInterval(nextSlide, 3000);
  </script>
</body>

</html>
